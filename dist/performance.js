"use strict";(()=>{gsap.registerPlugin(ScrollTrigger);$(document).ready(function(){let x=()=>{let e=$("#ootb_logo"),t=$("#bar-slow_1"),a=$("#bar-slow_2"),r=$("#bar-slow_3"),i=$("#max_logo"),s=$("#bar-fast_1"),c=$("#bar-fast_2"),l=$("#bar-fast_3"),d=$("#headers"),u=$("#numbers"),f=$("#grid"),n=.7,o=gsap.timeline({defaults:{ease:Power2.easeOut}});return o.to($(".headerb_stage-2"),{opacity:1}),o.fromTo([e,i,d,u],{opacity:0,xPercent:-15},{opacity:1,xPercent:0,duration:.5}),o.fromTo(f,{scaleY:0},{scaleY:1,duration:.5},"<"),o.addLabel("bars-start","<0.2"),o.fromTo(r,{scaleX:0},{scaleX:1,duration:n},"bars-start"),o.fromTo(a,{scaleX:0},{scaleX:.428,duration:n},"<"),o.fromTo(t,{scaleX:0},{scaleX:.295,duration:n},"<"),o.to(a,{scaleX:1,duration:n}),o.to(t,{scaleX:.695,duration:n},"<"),o.to(t,{scaleX:1,duration:n}),o.fromTo(l,{scaleX:0},{scaleX:1,duration:n},"bars-start"),o.fromTo(c,{scaleX:0},{scaleX:1,duration:n},"<"),o.fromTo(s,{scaleX:0},{scaleX:1,duration:n},"<"),o};gsap.timeline({}).add(x());let g=".perf2_model-mask",N,C;function v(e){return e.toLocaleString("en")}let T=(e,t)=>{$(e).each(function(){let a=$(this).text().trim().replace(/,/g,""),r=parseFloat(a)||0,i=parseFloat(t);if(console.log(i),!isNaN(i)&&r!==i){let s={val:r},c=1;console.log(c);let l=()=>{let d=v(parseFloat(s.val.toFixed(c)));$(this).text(d)};gsap.fromTo(s,{val:r},{val:i,duration:.7,ease:Power1.easeOut,onUpdate:l})}})},p=(e,t)=>{$(e).each(function(){gsap.to(e,{text:t,duration:.5,ease:Power1.easeOut})})};function h(e,t){let{activeIndex:a,slides:r}=e,i=r[a],s=l=>{let d=$(l).find(g),u=d.find("p").outerHeight();gsap.to(d,{height:u})},c=gsap.timeline({onComplete:()=>{t&&s(i)}});r.forEach(l=>{c.to($(l).find(g),{height:0,duration:.2},"<")})}function b(e){let t=e.swiper1.realIndex,a=$(e.swiper1.slides[t]),r=$("[stat-number]"),i=$("[model-name-full]"),s=$("[instance-name-full]"),c=$(".perf2_slider-2 .perf2_model-mask p"),l=[$("[data-instance-1-short]").text(),$("[data-instance-2-short]").text(),$("[data-instance-3-short]").text()],d=a.find("[data-model-full]").text(),u=[a.attr("data-instance-1-full"),a.attr("data-instance-2-full"),a.attr("data-instance-3-full")],f=[a.attr("data-performance-1-val"),a.attr("data-performance-2-val"),a.attr("data-performance-3-val")],n=e.swiper2.realIndex;c.each(function(){let o=$(this).index();p($(this),u[o])}),T(r,f[n]),p(i,d),p(s,l[n]+" "+u[n])}let m={swiper1:w(".perf2_slider-1",{initialSlide:5}),swiper2:w(".perf2_slider-2")};function w(e,t){return new Swiper(e,{slidesPerView:1,direction:"vertical",observer:!0,slideToClickedSlide:!0,init:!1,threshold:40,freeMode:{enabled:!0,sticky:!0},on:{init:function(){h(this,!0)}},mousewheel:{thresholdDelta:20},...t})}for(let e in m)if(m.hasOwnProperty(e)){let t=m[e],a;t.on("init",function(){b(m)}),t.on("slideChange",function(){clearTimeout(a),a=setTimeout(()=>{h(this,!0),b(m)},300)}),t.init()}});})();
