"use strict";(()=>{gsap.registerPlugin(ScrollTrigger);$(document).ready(function(){let y=()=>{let e=$("#ootb_logo"),t=$("#bar-slow_1"),a=$("#bar-slow_2"),i=$("#bar-slow_3"),o=$("#max_logo"),s=$("#bar-fast_1"),c=$("#bar-fast_2"),l=$("#bar-fast_3"),d=$("#headers"),u=$("#numbers"),g=$("#grid"),r=.7,n=gsap.timeline({defaults:{ease:Power2.easeOut}});return n.to($(".headerb_stage-2"),{opacity:1}),n.fromTo([e,o,d,u],{opacity:0,xPercent:-15},{opacity:1,xPercent:0,duration:.5}),n.fromTo(g,{scaleY:0},{scaleY:1,duration:.5},"<"),n.addLabel("bars-start","<0.2"),n.fromTo(i,{scaleX:0},{scaleX:1,duration:r},"bars-start"),n.fromTo(a,{scaleX:0},{scaleX:.428,duration:r},"<"),n.fromTo(t,{scaleX:0},{scaleX:.295,duration:r},"<"),n.to(a,{scaleX:1,duration:r}),n.to(t,{scaleX:.695,duration:r},"<"),n.to(t,{scaleX:1,duration:r}),n.fromTo(l,{scaleX:0},{scaleX:1,duration:r},"bars-start"),n.fromTo(c,{scaleX:0},{scaleX:1,duration:r},"<"),n.fromTo(s,{scaleX:0},{scaleX:1,duration:r},"<"),n};gsap.timeline({}).add(y());let h=".perf2_model-mask",E,P;function N(e){return e.toLocaleString("en")}let C=(e,t)=>{$(e).each(function(){let a=$(this).text().trim().replace(/,/g,""),i=parseFloat(a)||0,o=parseFloat(t);if(console.log(o),!isNaN(o)&&i!==o){let s={val:i},c=1;console.log(c);let l=()=>{let d=N(parseFloat(s.val.toFixed(c)));$(this).text(d)};gsap.fromTo(s,{val:i},{val:o,duration:.7,ease:Power1.easeOut,onUpdate:l})}})},p=(e,t)=>{$(e).each(function(){gsap.to(e,{text:t,duration:.5,ease:Power1.easeOut})})};function b(e,t){let{activeIndex:a,slides:i}=e,o=i[a],s=l=>{let d=$(l).find(h),u=d.find("p").outerHeight();gsap.to(d,{height:u})},c=gsap.timeline({onComplete:()=>{t&&s(o)}});i.forEach(l=>{c.to($(l).find(h),{height:0,duration:.2},"<")})}function w(e){let t=e.swiper1.realIndex,a=$(e.swiper1.slides[t]),i=$("[stat-number]"),o=$("[model-name-full]"),s=$("[instance-name-full]"),c=$(".perf2_slider-2 .perf2_model-mask p"),l=[$("[data-instance-1-short]").text(),$("[data-instance-2-short]").text(),$("[data-instance-3-short]").text()],d=a.find("[data-model-full]").text(),u=[a.attr("data-instance-1-full"),a.attr("data-instance-2-full"),a.attr("data-instance-3-full")],g=[a.attr("data-performance-1-val"),a.attr("data-performance-2-val"),a.attr("data-performance-3-val")],r=e.swiper2.realIndex;c.each(function(){let n=$(this).index();p($(this),u[n])}),C(i,g[r]),p(o,d),p(s,l[r]+" "+u[r])}let m={swiper1:T(".perf2_slider-1",{initialSlide:5}),swiper2:T(".perf2_slider-2")},f=0,x,v=new IntersectionObserver(e=>{e[0].isIntersecting&&(x=new Date,v.disconnect())},{root:null,threshold:.5});v.observe(document.querySelector(".perf2_slider-1")),window.addEventListener("beforeunload",()=>{let e=Math.round((new Date-x)/1e3);amplitude.track("timeSpentOnPerformance",{timeInSeconds:e}),amplitude.track("totalClicksOnPerformance",{count:f})});function T(e,t){return new Swiper(e,{slidesPerView:1,direction:"vertical",observer:!0,slideToClickedSlide:!0,init:!1,threshold:40,freeMode:{enabled:!0,sticky:!0},on:{init:function(){b(this,!0)}},mousewheel:{thresholdDelta:20},...t})}for(let e in m)if(m.hasOwnProperty(e)){let t=m[e],a;t.on("init",function(){w(m)}),t.on("slideChange",function(){var o;let i=(o=this.slides[this.activeIndex])==null?void 0:o.innerText;clearTimeout(a),a=setTimeout(()=>{f=f+1,amplitude.track("performanceSelected",{modelOrInstance:i}),b(this,!0),w(m)},300)}),t.init()}});})();
