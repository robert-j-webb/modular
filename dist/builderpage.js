"use strict";(()=>{var G=o=>{let t=e=>{if(e.nodeType===Node.TEXT_NODE){if(!e.parentNode.classList.contains("letter")){let s=e.textContent,h=document.createDocumentFragment();for(let n=0;n<s.length;n++){let b=document.createElement("span");b.className="letter",b.textContent=s[n],h.appendChild(b)}e.parentNode.replaceChild(h,e)}}else e.nodeType===Node.ELEMENT_NODE&&e.tagName!=="BR"&&Array.from(e.childNodes).forEach(t)};$(o).contents().each(function(){t(this)})},M=(o,t)=>{let e=gsap.timeline(),s=0;return $(o).each((h,n)=>{let b=$(n).find(".letter").not(".line-numbers-row .code-letter"),u=$(n).find(".word-highlight");if(b.each((f,m)=>{e.fromTo(m,{visibility:"hidden"},{visibility:"initial"},s*t,"<"),s++}),u.length){let f=u[0],m=window.getComputedStyle(f).getPropertyValue("background-color"),x=window.getComputedStyle(f).getPropertyValue("box-shadow"),y=(i,w)=>{let[k,a,l]=i.match(/\w\w/g).map(r=>parseInt(r,16));return`rgba(${k}, ${a}, ${l}, ${w})`},g=i=>{let w=i.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${w[0]}, ${w[1]}, ${w[2]}, 0)`},v=i=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(i),N=v(m)?y(m,0):g(m),_=x.replace(/rgba?\([^)]+\)/g,i=>v(i)?y(i,0):g(i));Array.from(u).forEach(i=>{i.style.backgroundColor=N,i.style.boxShadow=_}),e.to(u,{backgroundColor:m,boxShadow:x,duration:.35},"<")}}),e},L=(o,t)=>{let e;return t==="label"?e=.03:t==="heading"?e=.01:typeof t=="number"?e=t:e=.01,G(o),M(o,e)},T=o=>{let t=$(o).find("code"),e=t.find(".line-numbers-rows").eq(0).clone();return t.find(".line-numbers-rows").remove(),G(t),t.prepend(e),M(t,.01)},O=(o,t)=>{let e=gsap.timeline();return e.to(o,{text:{value:t,ease:"none",speed:1}},"<"),e},A=(o,t)=>{let e=gsap.timeline(),s=t===0?"PY":"&#x1F525";return e.set(o,{text:s}),e};$(document).ready(function(){$("#hero").each(function(){let a=$(this).find("h1"),l=$(this).find("p"),r=$(this).find(".button"),c=".dashboard_tab-inner",p="#file-type",d=".dashboard_tab-brand-box",E=$(d).find("rect"),B=$(d).find("path"),j=".dashboard_tab-label.python",S=".dashboard_tab-label.mojo",P=".dashboard_progress-line",F="#pythonCode",q="#mojoCode",D=()=>{let C=gsap.timeline();return C.fromTo("#dashboard",{opacity:0},{opacity:1,duration:0},"<").add(A(p,0)).add(T(F),"<"),C},H=()=>{let C=gsap.timeline();return C.to(d,{xPercent:133},"+=2").to(E,{fill:"#B5C0F6"},"<").to(B,{fill:"#020C13"},"<").to(j,{opacity:0},"<").to(S,{opacity:"1",duration:0}).add(A(p,1)).add(L(S,"label"),"<").set(F,{display:"none"},"<").set(q,{display:"block"},"<").add(T(q),"<").add(gsap.delayedCall(3,()=>{})),C};gsap.timeline({delay:.6}).to(a,{opacity:1}).call(()=>{z.play()}).add(L("h1"),"<").to(l,{opacity:1,duration:.5}).to(r,{opacity:1,duration:.5});let z=gsap.timeline({repeat:-1,paused:!0});z.add(D()).add(H())});let o="(min-width: 992px)",t=!1,e=$(".tabs_block-link-menu .tabs_block-link"),s=$(".tabs .cardb_visual .dashboard_code-block"),h="tab-active",n=$(".tabs_block-progress-line"),b=4e3,u=!0,f=gsap.timeline({paused:!0});function m(){if(!u)return;let a=e.filter("."+h);a.find(n).animate({width:"100%"},b,function(){x();let l=a.index(),r=l>=e.length-1?0:l+1;r===l&&(r=l>=e.length-2?0:l+2),e.eq(r).addClass(h),g(r),m()})}let x=()=>{f.clear(),e.removeClass(h),n.css("width","0"),s.hide()},y=()=>{u=!1,e.find(n).stop(!0,!0),x()},g=a=>{s.eq(a).show(),f.add(T(s.eq(a))).add(v(a),"<"),f.play()},v=(a,l)=>{let c=$(".dashboard_code .file-name").eq(a).text(),p=l?$(l):$(".dashboard_head-filename");p.text("");let d=gsap.timeline();return d.add(O(p,c)),d},N=()=>{t=!0,e.eq(0).addClass(h),m(),g(0),e.on("click",function(){let a=$(this).index();y(),$(this).addClass(h),$(this).find(n).animate({width:"100%"},200),g(a)})};$(window).on("load resize",function(){if(window.matchMedia(o).matches){if(!t){let a=ScrollTrigger.create({trigger:".tabs",start:"top center",onEnter:()=>{N(),a.kill()}})}}else t&&(y(),t=!1)});let _,i=!1,w=$(".tabs_slider .cardb_visual .dashboard_code-block");function k(){let a=window.matchMedia("(min-width: 0px) and (max-width: 991px)"),l=window.matchMedia(o);function r(c){let{activeIndex:p}=c;n.stop(!0,!0),n.css("width","0"),$(c.slides[p]).find(n).animate({width:"100%"},b);let d=c.slides[p].querySelector(".dashboard_code-block"),E=c.slides[p].querySelector(".dashboard_head-filename");d&&!d.classList.contains("animated")&&($(d).show(),gsap.timeline().add(v(p,E)).add(T(d),"<"),d.classList.add("animated"))}l.matches?i&&(_.destroy(!0,!0),i=!1):a.matches&&(i||(i=!0,_=new Swiper(".tabs_slider",{slidesPerView:1,spaceBetween:24,speed:250,autoplay:{delay:b},observer:!0,on:{init:c=>{$(w).hide(),r(c),$(".tabs_slider").find(".dashboard_head-filename")},transitionEnd:c=>{r(c)}},pagination:{el:".swiper-navigation",type:"bullets",clickable:!0,bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}})))}window.addEventListener("load",function(){k()}),window.addEventListener("resize",function(){k()})});})();
