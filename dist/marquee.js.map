{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/marquee.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// attribute value checker\nfunction attr(defaultVal, attrVal) {\n  const defaultValType = typeof defaultVal;\n  if (typeof attrVal !== 'string' || attrVal.trim() === '') return defaultVal;\n  if (attrVal === 'true' && defaultValType === 'boolean') return true;\n  if (attrVal === 'false' && defaultValType === 'boolean') return false;\n  if (isNaN(attrVal) && defaultValType === 'string') return attrVal;\n  if (!isNaN(attrVal) && defaultValType === 'number') return +attrVal;\n  return defaultVal;\n}\n// marquee component\n$(\"[tr-marquee-element='component']\").each(function (index) {\n  const componentEl = $(this),\n    panelEl = componentEl.find(\"[tr-marquee-element='panel']\"),\n    triggerHoverEl = componentEl.find(\"[tr-marquee-element='triggerhover']\"),\n    triggerClickEl = componentEl.find(\"[tr-marquee-element='triggerclick']\");\n  let speedSetting = attr(100, componentEl.attr('tr-marquee-speed')),\n    verticalSetting = attr(false, componentEl.attr('tr-marquee-vertical')),\n    reverseSetting = attr(false, componentEl.attr('tr-marquee-reverse')),\n    scrollDirectionSetting = attr(false, componentEl.attr('tr-marquee-scrolldirection')),\n    scrollScrubSetting = attr(false, componentEl.attr('tr-marquee-scrollscrub')),\n    moveDistanceSetting = -100,\n    timeScaleSetting = 1,\n    pausedStateSetting = false;\n  if (reverseSetting) moveDistanceSetting = 100;\n  const marqueeTimeline = gsap.timeline({\n    repeat: -1,\n    onReverseComplete: () => marqueeTimeline.progress(1),\n  });\n  if (verticalSetting) {\n    speedSetting = panelEl.first().height() / speedSetting;\n    marqueeTimeline.fromTo(\n      panelEl,\n      { yPercent: 0 },\n      { yPercent: moveDistanceSetting, ease: 'none', duration: speedSetting }\n    );\n  } else {\n    speedSetting = panelEl.first().width() / speedSetting;\n    marqueeTimeline.fromTo(\n      panelEl,\n      { xPercent: 0 },\n      { xPercent: moveDistanceSetting, ease: 'none', duration: speedSetting }\n    );\n  }\n  const scrubObject = { value: 1 };\n  ScrollTrigger.create({\n    trigger: 'body',\n    start: 'top top',\n    end: 'bottom bottom',\n    onUpdate: (self) => {\n      if (!pausedStateSetting) {\n        if (scrollDirectionSetting && timeScaleSetting !== self.direction) {\n          timeScaleSetting = self.direction;\n          marqueeTimeline.timeScale(self.direction);\n        }\n        if (scrollScrubSetting) {\n          let v = self.getVelocity() * 0.006;\n          v = gsap.utils.clamp(-60, 60, v);\n          const scrubTimeline = gsap.timeline({\n            onUpdate: () => marqueeTimeline.timeScale(scrubObject.value),\n          });\n          scrubTimeline.fromTo(\n            scrubObject,\n            { value: v },\n            { value: timeScaleSetting, duration: 0.5 }\n          );\n        }\n      }\n    },\n  });\n\n  function pauseMarquee(isPausing) {\n    pausedStateSetting = isPausing;\n    const pauseObject = { value: 1 };\n    const pauseTimeline = gsap.timeline({\n      onUpdate: () => marqueeTimeline.timeScale(pauseObject.value),\n    });\n    if (isPausing) {\n      pauseTimeline.fromTo(pauseObject, { value: timeScaleSetting }, { value: 0, duration: 0.5 });\n      triggerClickEl.addClass('is-paused');\n    } else {\n      pauseTimeline.fromTo(pauseObject, { value: 0 }, { value: timeScaleSetting, duration: 0.5 });\n      triggerClickEl.removeClass('is-paused');\n    }\n  }\n  if (window.matchMedia('(pointer: fine)').matches) {\n    triggerHoverEl.on('mouseenter', () => pauseMarquee(true));\n    triggerHoverEl.on('mouseleave', () => pauseMarquee(false));\n  }\n  triggerClickEl.on('click', function () {\n    !$(this).hasClass('is-paused') ? pauseMarquee(true) : pauseMarquee(false);\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
