"use strict";(()=>{var N=n=>{let e=t=>{if(t.nodeType===Node.TEXT_NODE){if(!t.parentNode.classList.contains("letter")){let i=t.textContent,o=document.createDocumentFragment();for(let l=0;l<i.length;l++){let s=document.createElement("span");s.className="letter",s.textContent=i[l],o.appendChild(s)}t.parentNode.replaceChild(o,t)}}else t.nodeType===Node.ELEMENT_NODE&&t.tagName!=="BR"&&Array.from(t.childNodes).forEach(e)};$(n).contents().each(function(){e(this)})},L=(n,e)=>{let t=gsap.timeline(),i=0;return $(n).each((o,l)=>{let s=$(l).find(".letter").not(".line-numbers-row .code-letter"),c=$(l).find(".word-highlight");if(s.each((u,m)=>{t.fromTo(m,{visibility:"hidden"},{visibility:"initial"},i*e,"<"),i++}),c.length){let u=c[0],m=window.getComputedStyle(u).getPropertyValue("background-color"),f=window.getComputedStyle(u).getPropertyValue("box-shadow"),p=(h,b)=>{let[v,y,C]=h.match(/\w\w/g).map(T=>parseInt(T,16));return`rgba(${v}, ${y}, ${C}, ${b})`},g=h=>{let b=h.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${b[0]}, ${b[1]}, ${b[2]}, 0)`},r=h=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(h),a=r(m)?p(m,0):g(m),d=f.replace(/rgba?\([^)]+\)/g,h=>r(h)?p(h,0):g(h));Array.from(c).forEach(h=>{h.style.backgroundColor=a,h.style.boxShadow=d}),t.to(c,{backgroundColor:m,boxShadow:f,duration:.35},"<")}}),t},E=(n,e)=>{let t;return e==="label"?t=.03:e==="heading"?t=.01:typeof e=="number"?t=e:t=.01,N(n),L(n,t)};var A=n=>{$(n).each(function(){let e={val:0},t=$(this).text(),i=parseFloat(t),o=t%1>=.5&&t%1<1;if(!isNaN(i)){$(this).css("visibility","hidden");let l=()=>{let s;Math.abs(i-e.val)<=.01?s=i%1===0?i.toFixed(0):i.toFixed(2):e.val>=1?s=Math.floor(e.val).toFixed(0):s=e.val.toFixed(2),$(this).text(s)};TweenLite.to(e,1,{val:i,onUpdate:l,onStart:()=>$(this).css("visibility","visible")})}})},k=n=>{let e=gsap.timeline();return e.add(E(`.graph${n}_head .text-size-metadata`),"label").add(()=>A(`.graph${n}_head .graph-number`),"<"),e},F=(n,e)=>{let t=gsap.timeline();return $(n).each(function(i){let o=$(this).find(`.graph${e}_box`),l=$(this).find(`.graph${e}_label div`),s=$(this).find(`.graph${e}_row-num div`),c=gsap.timeline();c.from(o,{scaleX:0,duration:1}).add(()=>{A(s)},"<").add(E(l,"label")),t.add(c,i*.2)}),t};var _=(n,e,t)=>{let i=$(t),o=gsap.timeline({ease:Power2.easeOut,paused:!0,scrollTrigger:{trigger:i,start:"70% bottom",onEnter:()=>{o.play()}}});return o.add(k(e)),o.add(F(n,e),"<"),o};function D({tabs:n,cards:e,onCardLeave:t,onTabLeave:i,onCardShow:o,onTabShow:l}){if(n.length!==e.length)throw new Error(`Cards length: ${e.length} did not match tabs length: ${n.length}`);let s=!1,c=0;async function u(p){let g=p===0?e.length-1:p-1;await Promise.all([t(e.eq(g)),i(n.eq(g))]),await Promise.all([o(e.eq(p)),l(n.eq(p))])}async function m(){for(;!s;)await u(c),c+=1,c===e.length&&(c=0)}n.each((p,g)=>{g.onclick=()=>{t(e.eq(c)),i(n.eq(c)),o(e.eq(p)),l(n.eq(p)),s=!0,c=p}});let f=new IntersectionObserver(p=>{p[0].intersectionRatio<=0||(m(),f.unobserve(n[0]))},{threshold:1});f.observe(n[0])}function S({animateOnSlide:n,sliderSelector:e,onInit:t,duration:i}){function o({activeIndex:l,slides:s}){s.length!==0&&n($(s[l]))}new Swiper(e,{slidesPerView:1,spaceBetween:24,speed:250,autoplay:{delay:i},observer:!0,on:{init:l=>{t(),o(l)},transitionEnd:l=>{o(l)}},pagination:{el:".swiper-navigation",type:"bullets",clickable:!0,bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}})}var x=class{constructor(e="#termynal",t={}){this.container=typeof e=="string"?document.querySelector(e):e,this.pfx=`data-${t.prefix||"ty"}`,this.startDelay=t.startDelay||parseFloat(this.container.getAttribute(`${this.pfx}-startDelay`))||600,this.typeDelay=t.typeDelay||parseFloat(this.container.getAttribute(`${this.pfx}-typeDelay`))||90,this.lineDelay=t.lineDelay||parseFloat(this.container.getAttribute(`${this.pfx}-lineDelay`))||1500,this.progressLength=t.progressLength||parseFloat(this.container.getAttribute(`${this.pfx}-progressLength`))||40,this.progressChar=t.progressChar||this.container.getAttribute(`${this.pfx}-progressChar`)||"\u2588",this.progressPercent=t.progressPercent||parseFloat(this.container.getAttribute(`${this.pfx}-progressPercent`))||100,this.cursor=t.cursor||this.container.getAttribute(`${this.pfx}-cursor`)||"\u258B",this.lineData=this.lineDataToElements(t.lineData||[]),t.noInit||this.init()}init(){this.lines=[...this.container.querySelectorAll(`[${this.pfx}]`)].concat(this.lineData);let e=getComputedStyle(this.container);this.container.style.width=e.width!=="0px"?e.width:void 0,this.container.style.minHeight=e.height!=="0px"?e.height:void 0,this.container.setAttribute("data-termynal",""),this.container.innerHTML="",this.start()}async start(){await this._wait(this.startDelay);for(let e of this.lines){let t=e.getAttribute(this.pfx),i=e.getAttribute(`${this.pfx}-delay`)||this.lineDelay;t==="input"?(e.setAttribute(`${this.pfx}-cursor`,this.cursor),await this.type(e),await this._wait(i)):t==="progress"?(await this.progress(e),await this._wait(i)):(this.container.appendChild(e),await this._wait(i)),e.removeAttribute(`${this.pfx}-cursor`)}this._emitAnimationEndEvent()}_emitAnimationEndEvent(){let e=new Event("termynal-anim-end");this.container.dispatchEvent(e)}async type(e){let t=[...e.textContent],i=e.getAttribute(`${this.pfx}-typeDelay`)||this.typeDelay;e.textContent="",this.container.appendChild(e);for(let o of t)await this._wait(i),e.textContent+=o}async progress(e){let t=e.getAttribute(`${this.pfx}-progressLength`)||this.progressLength,o=(e.getAttribute(`${this.pfx}-progressChar`)||this.progressChar).repeat(t),l=e.getAttribute(`${this.pfx}-progressPercent`)||this.progressPercent;e.textContent="",this.container.appendChild(e);for(let s=1;s<o.length+1;s++){await this._wait(this.typeDelay);let c=Math.round(s/o.length*100);if(e.textContent=`${o.slice(0,s)} ${c}%`,c>l)break}}_wait(e){return new Promise(t=>setTimeout(t,e))}lineDataToElements(e){return e.map(t=>{let i=document.createElement("div");return i.innerHTML=`<span ${this._attributes(t)}>${t.value||""}</span>`,i.firstElementChild})}_attributes(e){let t="";for(let i in e)t+=this.pfx,i==="type"?t+=`="${e[i]}" `:i!=="value"&&(t+=`-${i}="${e[i]}" `);return t}};gsap.registerPlugin(ScrollTrigger);$(document).ready(function(){$(".grapha_row").each(function(){_($(this),"a",".grapha")});let n="tab-active",e=".tabs_block-progress-line",t=4e3;function i(r){return new Promise(a=>{r.show(),r.css("opacity","0.0"),r.animate({opacity:"1"},200,a)})}D({tabs:$(".tabs_block-link-menu .tabs_block-link"),cards:$(".tabs_visuals > img"),onCardLeave:r=>{r.hide()},onTabLeave:r=>{r.removeClass(n),r.find(e).stop(),r.find(e).css("width","0")},onCardShow:i,onTabShow:r=>new Promise(a=>{r.addClass(n),r.find(e).animate({width:"100%"},t,a)})}),S({sliderSelector:".tabs_slider",animateOnSlide(r){r.find(e).stop(!0,!0).css("width","0").animate({width:"100%"},t)},onInit(){},duration:t});function o(){c.forEach(r=>{m(r),f(r)}),Object.values(u).forEach(r=>{p(r)}),$("#mojoCode").css("visibility","visible")}let l=new IntersectionObserver((r,a)=>{r.forEach(d=>{d.isIntersecting&&(o(),a.disconnect())})},{rootMargin:"0% 0% -50% 0%"}),s=document.querySelector(".headera1_code");s&&l.observe(s);let c=["termynal-1"],u={};function m(r){console.log(`Defining Termynal for: ${r}`),u[r]=new x(`#${r}`,{startDelay:600,noInit:!0})}function f(r){u[r]?(u[r].init(),$(`#${r}`).css("visibility","visible")):console.warn(`Termynal instance for ${r} not found.`)}function p(r){r.container.addEventListener("termynal-anim-end",()=>{setTimeout(()=>{r.init()},3e3)})}function g(r,a){let d=typeof r;return typeof a!="string"||a.trim()===""?r:a==="true"&&d==="boolean"?!0:a==="false"&&d==="boolean"?!1:isNaN(a)&&d==="string"?a:!isNaN(a)&&d==="number"?+a:r}$(document).ready(function(){let r=()=>{window.matchMedia("(min-width: 992px)").matches?$("[tr-marquee-element='component']").each(function(){let a=$(this),d=a.find("[tr-marquee-element='panel']"),h=g(100,a.attr("tr-marquee-speed")),b=g(!1,a.attr("tr-marquee-vertical")),v=g(!1,a.attr("tr-marquee-reverse")),y=-100;v&&(y=100);let C=w=>{b?gsap.set(d,{yPercent:w*y}):gsap.set(d,{xPercent:w*y})},T=gsap.timeline(),q=ScrollTrigger.create({trigger:"body",start:"top top",end:"bottom bottom",onUpdate:w=>{let P=w.progress;C(P)}});a.data("scrollTrigger",q)}):$("[tr-marquee-element='component']").each(function(){let a=$(this),d=a.find("[tr-marquee-element='panel']"),h=a.data("scrollTrigger");h&&(h.kill(),a.removeData("scrollTrigger")),gsap.set(d,{clearProps:"all"})})};r(),$(window).on("resize",r)})});})();
