"use strict";(()=>{var N=o=>{let e=a=>{if(a.nodeType===Node.TEXT_NODE){let n=a.textContent,s=document.createDocumentFragment();for(let l=0;l<n.length;l++){let t=document.createElement("span");t.className="letter",t.textContent=n[l],s.appendChild(t)}a.parentNode.replaceChild(s,a)}else a.nodeType===Node.ELEMENT_NODE&&a.tagName!=="BR"&&Array.from(a.childNodes).forEach(e)};$(o).contents().each(function(){e(this)})},A=(o,e)=>{let a=gsap.timeline();return $(o).each((n,s)=>{let l=$(s).find(".letter").not(".line-numbers-row .code-letter"),t=gsap.timeline();l.each((m,y)=>{let B=$(y).closest(".word-highlight");B.length?t.fromTo(y,{display:"none"},{display:"inline"},m*e,"<").to(B,{opacity:1,duration:.2},"<"):t.fromTo(y,{visibility:"hidden"},{visibility:"initial"},m*e,"<")}),a.add(t,0)}),a},c=(o,e)=>{let a;return e==="label"?a=.03:e==="heading"?a=.02:typeof e=="number"?a=e:a=.01,N(o),A(o,a)},x=o=>{let e=$(o).find("code"),a=e.find(".line-numbers-rows").eq(0).clone();return e.find(".line-numbers-rows").remove(),N(e),e.prepend(a),A(e,.01)},i=(o,e)=>{let a=gsap.timeline();return a.to(o,{text:{value:e,ease:"none",speed:1}},"<"),a},Y=o=>{let e={val:0},a=parseFloat(o.text()),n=()=>{let s=e.val%1===0?e.val.toFixed(0):e.val.toFixed(1);o.text(s)};TweenLite.to(e,1,{val:a,onUpdate:n})},F=o=>{let e=gsap.timeline();return $(o).each(function(a){let n=$(this).find(".grapha_box"),s=$(this).find(".grapha_label div"),l=$(this).find(".grapha_row-num div"),t=gsap.timeline();t.from(n,{scaleX:0,duration:1}).add(c(s,"label")).add(Y(l)),e.add(t,a*.2)}),e};var E=(o,e)=>{let a=$(e),n=gsap.timeline({ease:Power2.easeOut,paused:!0,scrollTrigger:{trigger:a,start:"50% bottom",onEnter:()=>{n.play()}}});return n.add(F(o)),n};gsap.registerPlugin(ScrollTrigger);function R(){let o="hide";$(".hero-devices .hero-box_inner").each(function(){let e=$(this).find(".hero-box_icon"),a=e.not("."+o),n=a.index()>=e.length-1?0:a.index()+1;e.addClass(o),e.eq(n).removeClass(o)})}var _="word-highlight",r=1.2,U="#heroLabel",z="#heroHeading",V="#heroButtons .button",b="#modularBox",C=".hero-box",v=".hero-box_inner",X=b+" "+v;var w=C+"[box-direction=left] "+v,g=C+"[box-direction=right] "+v,u=".hero-box_metadata-mask",G=".hero-dashboard_arrow",q=".hero-devices_border",h="#dashboard",M=h+" .hero-dashboard_inner",D=h+" .hero-dashboard_code",W=h+" .hero-dashboard_close circle",S=h+" .hero-dashboard_head-label",J=h+" .hero-dashboard_tab",K=h+" .hero-dashboard_tab-inner.python",Q=h+" .hero-dashboard_tab-inner.mojo",P=h+" .hero-dashboard_code-block.python",j=h+" .hero-dashboard_code-block.mojo",Z=".hero-dashboard_graphs";var p=".hero-dashboard_graph-box",ee=".hero-dashboard_graph-label",ae=".hero-dashboard_graph-number-label",k=".hero-dashboard_graph-number",oe=".hero-dashboard_graph-legend",H=".hero-heading_span1",I=".hero-heading_span2",O=".hero-heading_span3",L=".hero-heading_span4",T=".hero-heading_span5",f=".hero-heading_span6",d=gsap.timeline({delay:1.5,ease:Power2.easeOut,paused:!0,repeat:-1});$(document).ready(function(){d.addLabel("heroText").add(c(U,"label")).add(c(z+" span","heading"),"<").from(V,{opacity:0,stagger:.1,duration:r},"<0.1").addLabel("modularBox").fromTo($(b),{width:"19em",opacity:0},{width:"12.2em",opacity:1,duration:r},"modularBox").add(c($(b).find(u).find("div"),"label")),d.addLabel("heroBoxesLeft").from(w,{opacity:0,left:"-6em",stagger:.15,duration:r/2},"heroBoxesLeft").add(c($(w).closest(C).find(u).children(),"label"),"<"),d.addLabel("heroBoxesRight").from(g,{opacity:0,left:"6em",stagger:.15,duration:r/2},"heroBoxesLeft").add(c($(g).closest(".hero-devices_box").find(u).children(),"label"),"<"),d.addLabel("arrowsAndBorder").to([q,G],{opacity:1,duration:r},"arrowsAndBorder"),d.addLabel("loopDevices");let o=gsap.timeline().to(g,{opacity:0}).to(g,{x:"1em"}).call(R).to(g,{opacity:1,x:"0"}),e=gsap.timeline().add(o).delay(1).repeat(1).repeatDelay(1);d.add(e,"loopDevices"),d.addLabel("expandSquare").fromTo(b,{width:"12.2em",height:"12.2em"},{width:"90.4em",height:"37.2em",duration:r},"expandSquare").to([X,w,g,u,G,q],{opacity:0,duration:r},"<").addLabel("headingUpdate1").add(i(H,"A "),"<").add(i(I,"new language"),"<").add(i(O," that"),"<").add(i(L," extends Python "),"<").add(i(T,"but that's "),"<").add(i(f,"as fast as C"),"<").add(()=>{$(T).removeClass(_),$(L+","+f).addClass(_)},"<"),d.addLabel("showDashboard").fromTo([h,M],{autoAlpha:0},{autoAlpha:1,stagger:.2},"showDashboard").to(W,{opacity:1,stagger:.1,duration:r}).add(c(S+" div","label"),"<").to([S,J],{opacity:1,duration:r,stagger:.2},"<").to(D,{opacity:1,duration:r},"<"),d.addLabel("pythonCode").add(x(P),"pythonCode+0.3"),d.addLabel("switchCodeTabs").to(K,{opacity:0,duration:r/2},"switchCodeTabs").to(Q,{opacity:1,display:"flex",duration:r},"<").set(P,{display:"none"},"<").set(j,{display:"block"},"<"),d.addLabel("mojoCode").add(x(j),"mojoCode+0.3");let a,n=$(p).eq(0);d.call(()=>{a=n.css("width")}).set(n,{width:"100%"}).set($(p).not(":first-child"),{scaleY:0}).addLabel("transitionCode").to([D,n],{width:()=>a,duration:r},"showGraphs").addLabel("headingUpdate2").add(i(H,"The "),"<").add(i(I,"fastest unified AI interfence"),"<").add(i(O,""),"<").add(i(L,"engine"),"<").add(i(T,"in the world."),"<").add(i(f,""),"<").add(()=>{$(f).removeClass(_)},"<"),d.addLabel("showGraph").to(Z,{autoAlpha:1,duration:r},"<").to(h,{autoAlpha:0,duration:r},"<");let s=t=>{d.set(t,{opacity:1}).add(c(t,"label"),"<")},l=t=>{d.add(s($(t).find(ee).children()),"<").add(s($(t).find(ae).children()),"<").add(s($(t).find(oe).children()),"<").set($(t).find(k),{yPercent:10,opacity:0},"<").to($(t).find(k),{yPercent:0,opacity:1,duration:r},"<")};d.addLabel("animateGraph1").add(l($(p).eq(0))),d.to($(p).eq(1),{scaleY:1,duration:r}).addLabel("animateGraph2").add(l($(p).eq(1))),d.to($(p).eq(2),{scaleY:1,duration:r}).addLabel("animateGraph3").add(l($(p).eq(2))),d.to(b,{keyframes:{"50%":{opacity:0},"100%":{scale:.5}},duration:r}),$(".discord_box").each(function(){let t=$(this),m=gsap.timeline({ease:Power2.easeOut,paused:!0,scrollTrigger:{trigger:t,start:"top bottom",onEnter:()=>{m.play()}}});m.fromTo($(this).find(".discord_card"),1,{y:"1rem",opacity:0},{y:"0rem",opacity:1}).fromTo($(this).find(".discord_bg"),1,{y:"1rem",opacity:0},{y:"0rem",opacity:1},"<0.3").from($(this).find(".discord_avatar,.discord_message-text:first-child, .discord_message-time"),.5,{opacity:0,stagger:.15},"<").add(c($(this).find(".discord_message-text").eq(1),.03))}),$(".grapha_row").each(function(){E($(this),".grapha")}),d.play()});})();
